<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EggDBusStructure</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="EggDBus Reference Manual">
<link rel="up" href="datatypes.html" title="Types and Collections">
<link rel="prev" href="EggDBusVariant.html" title="EggDBusVariant">
<link rel="next" href="core.html" title="D-Bus Operations">
<meta name="generator" content="GTK-Doc V1.11 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="reference" href="ref-overview.html" title="EggDBus Overview">
<link rel="chapter" href="ref-overview-intro.html" title="Introduction">
<link rel="chapter" href="ref-overview-concepts.html" title="Mapping D-Bus to GObject">
<link rel="chapter" href="ref-overview-compiling.html" title="Compiling EggDBus applications">
<link rel="reference" href="ref-api.html" title="API Reference">
<link rel="chapter" href="datatypes.html" title="Types and Collections">
<link rel="chapter" href="core.html" title="D-Bus Operations">
<link rel="chapter" href="stdinterfaces.html" title="Well-known D-Bus Interfaces">
<link rel="chapter" href="example.html" title="Example of Generated Code">
<link rel="chapter" href="example-dbus.html" title="Example of Generated D-Bus docs">
<link rel="reference" href="ref-programs.html" title="Tools Reference">
<link rel="reference" href="ref-tutorial.html" title="Tutorial">
<link rel="chapter" href="ref-tutorial-using.html" title="Using a D-Bus service">
<link rel="chapter" href="ref-tutorial-providing.html" title="Writing a D-Bus service">
<link rel="chapter" href="eggdbus-hierarchy.html" title="Object Hierarchy">
<link rel="index" href="ix01.html" title="Index">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="EggDBusVariant.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="datatypes.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">EggDBus Reference Manual</th>
<td><a accesskey="n" href="core.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#EggDBusStructure.synopsis" class="shortcut">Top</a>
                 | 
                <a href="#EggDBusStructure.description" class="shortcut">Description</a>
                 | 
                <a href="#EggDBusStructure.object-hierarchy" class="shortcut">Object Hierarchy</a>
                 | 
                <a href="#EggDBusStructure.properties" class="shortcut">Properties</a>
</td></tr>
</table>
<div class="refentry" title="EggDBusStructure">
<a name="EggDBusStructure"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="EggDBusStructure.top_of_page"></a>EggDBusStructure</span></h2>
<p>EggDBusStructure — D-Bus structures</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="EggDBusStructure.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
                    <a class="link" href="EggDBusStructure.html#EggDBusStructure-struct" title="EggDBusStructure">EggDBusStructure</a>;
#define             <a class="link" href="EggDBusStructure.html#EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-CAST--CAPS" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST()">EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST</a>(instance, signature, c_type)
#define             <a class="link" href="EggDBusStructure.html#EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-TYPE--CAPS" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE()">EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE</a>(instance, signature, c_type)
<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *  <a class="link" href="EggDBusStructure.html#egg-dbus-structure-new" title="egg_dbus_structure_new ()">egg_dbus_structure_new</a>              (const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *signature,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *elements);
<a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a>               <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-num-elements" title="egg_dbus_structure_get_num_elements ()">egg_dbus_structure_get_num_elements</a> (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure);
void                <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-element" title="egg_dbus_structure_get_element ()">egg_dbus_structure_get_element</a>      (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         ...);
void                <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-element-valist" title="egg_dbus_structure_get_element_valist ()">egg_dbus_structure_get_element_valist</a>
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         va_list var_args);
void                <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-element-as-gvalue" title="egg_dbus_structure_get_element_as_gvalue ()">egg_dbus_structure_get_element_as_gvalue</a>
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> element_number,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *value);
void                <a class="link" href="EggDBusStructure.html#egg-dbus-structure-set-element" title="egg_dbus_structure_set_element ()">egg_dbus_structure_set_element</a>      (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         ...);
void                <a class="link" href="EggDBusStructure.html#egg-dbus-structure-set-element-valist" title="egg_dbus_structure_set_element_valist ()">egg_dbus_structure_set_element_valist</a>
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         va_list var_args);
void                <a class="link" href="EggDBusStructure.html#egg-dbus-structure-set-element-as-gvalue" title="egg_dbus_structure_set_element_as_gvalue ()">egg_dbus_structure_set_element_as_gvalue</a>
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> element_number,
                                                         const <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *value);
const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *       <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-signature" title="egg_dbus_structure_get_signature ()">egg_dbus_structure_get_signature</a>    (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure);
const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *       <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-signature-for-element" title="egg_dbus_structure_get_signature_for_element ()">egg_dbus_structure_get_signature_for_element</a>
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> element_number);
void                <a class="link" href="EggDBusStructure.html#egg-dbus-structure-print" title="egg_dbus_structure_print ()">egg_dbus_structure_print</a>            (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> indent);
</pre>
</div>
<div class="refsect1" title="Object Hierarchy">
<a name="EggDBusStructure.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a>
   +----EggDBusStructure
</pre>
</div>
<div class="refsect1" title="Properties">
<a name="EggDBusStructure.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="EggDBusStructure.html#EggDBusStructure--elemement-signatures" title='The "elemement-signatures" property'>elemement-signatures</a>"     <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Boxed-Types.html#GStrv"
>GStrv</a>*                : Read
  "<a class="link" href="EggDBusStructure.html#EggDBusStructure--elements" title='The "elements" property'>elements</a>"                 <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a>              : Write / Construct Only
  "<a class="link" href="EggDBusStructure.html#EggDBusStructure--num-elemements" title='The "num-elemements" property'>num-elemements</a>"           <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"
>gint</a>                  : Read
  "<a class="link" href="EggDBusStructure.html#EggDBusStructure--signature" title='The "signature" property'>signature</a>"                <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a>*                : Read / Write / Construct Only
</pre>
</div>
<div class="refsect1" title="Description">
<a name="EggDBusStructure.description"></a><h2>Description</h2>
<p>
Instances of <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> represents D-Bus structures. Typically, this
class isn't used directly, subclasses are used instead.
</p>
<p>
A structure in D-Bus is a container type with a fixed type signature containing
a fixed number of elements. Unlike most programming languages, elements in a
D-Bus structure does not have identifiers or names. Neither does the structure
itself have a name. For example, in C, consider these two data types:
</p>
<p>
</p>
<pre class="programlisting">
typedef struct
{
  gint x;
  gint y;
} Point;

typedef struct
{
  gint first;
  gint second;
} Pair;
</pre>
<p>
</p>
<p>
In C, <code class="literal">Point</code> and <code class="literal">Pair</code> are distinct types
and cannot be used interchangeably without type punning. In the D-Bus protocol, however,
it is not possible to make a distinction between serialized instance of <code class="literal">Point</code>
and <code class="literal">Pair</code> – both have the signature <code class="literal">(ii)</code>.
</p>
<p>
In EggDBus, it is possible to declare structures using D-Bus introspection XML. For example
consider the following D-Bus introspection XML:
</p>
<p>
</p>
<pre class="programlisting">
&lt;annotation name="org.gtk.EggDBus.DeclareStruct" value="Point"&gt;
  &lt;annotation name="org.gtk.EggDBus.Struct.Member"  value="i:x"&gt;
    &lt;annotation name="org.gtk.EggDBus.DocString" value="The X coordinate"/&gt;
  &lt;/annotation&gt;
  &lt;annotation name="org.gtk.EggDBus.Struct.Member" value="i:y"&gt;
    &lt;annotation name="org.gtk.EggDBus.DocString" value="The Y coordinate"/&gt;
  &lt;/annotation&gt;
&lt;/annotation&gt;

&lt;annotation name="org.gtk.EggDBus.DeclareStruct" value="Pair"&gt;
  &lt;annotation name="org.gtk.EggDBus.Struct.Member"  value="i:first"&gt;
    &lt;annotation name="org.gtk.EggDBus.DocString" value="The first element"/&gt;
  &lt;/annotation&gt;
  &lt;annotation name="org.gtk.EggDBus.Struct.Member" value="i:second"&gt;
    &lt;annotation name="org.gtk.EggDBus.DocString" value="The second element"/&gt;
  &lt;/annotation&gt;
&lt;/annotation&gt;

&lt;annotation name="org.gtk.EggDBus.DeclareStruct" value="DescribedPair"&gt;
  &lt;annotation name="org.gtk.EggDBus.Struct.Member" value="s:desc"&gt;
    &lt;annotation name="org.gtk.EggDBus.DocString" value="A description of the described pair"/&gt;
  &lt;/annotation&gt;
  &lt;annotation name="org.gtk.EggDBus.Struct.Member" value="(ii):pair"&gt;
   &lt;annotation name="org.gtk.EggDBus.DocString" value="The pair being described"/&gt;
   &lt;annotation name="org.gtk.EggDBus.StructType"  value="Pair"/&gt;
  &lt;/annotation&gt;
&lt;/annotation&gt;
</pre>
<p>
</p>
<p>
These declarations makes <a class="xref" href="eggdbus-binding-tool.1.html" title="eggdbus-binding-tool"><span class="refentrytitle">eggdbus-binding-tool</span>(1)</a> generate (using
<code class="literal">--namespace Test</code>) three <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> derived classes:
<a class="link" href="TestPoint.html" title="TestPoint"><span class="type">TestPoint</span></a>, <a class="link" href="TestPair.html" title="TestPair"><span class="type">TestPair</span></a> and <a class="link" href="TestDescribedPair.html" title="TestDescribedPair"><span class="type">TestDescribedPair</span></a>.
</p>
<p>
Note that these generated classes are using the <a class="link" href="EggDBusStructure.html#EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-CAST--CAPS" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST()"><code class="function">EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST()</code></a>
and <a class="link" href="EggDBusStructure.html#EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-TYPE--CAPS" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE()"><code class="function">EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE()</code></a> macros for type casting and type checking.
This means that it's legal to use <a class="link" href="TestPoint.html" title="TestPoint"><span class="type">TestPoint</span></a> and <a class="link" href="TestPair.html" title="TestPair"><span class="type">TestPair</span></a> interchangeably but it's not
legal to cast e.g. an instance of type <a class="link" href="TestDescribedPoint.html" title="TestDescribedPoint"><span class="type">TestDescribedPoint</span></a> to e.g. <a class="link" href="TestPoint.html" title="TestPoint"><span class="type">TestPoint</span></a>:
</p>
<p>
</p>
<pre class="programlisting">
TestPoint *point;
TestPair *pair;
TestDescribedPoint *described_point;

point = test_point_new (3, 4);

/* legal, TestPoint and TestPair are structurally equivalent types  */
pair = TEST_PAIR (point);

/* both of these assertions are true */
g_assert (test_pair_get_first (pair) == 3);
g_assert (test_pair_get_second (pair) == 4);

/* true assertion, TestDescribedPoint and TestPoint are not structurally equivalent types */
g_assert (!TEST_IS_DESCRIBED_POINT (point));

/* will issue a warning */
described_point = TEST_DESCRIBED_POINT (point);

/* cleanup */
g_object_unref (point);
</pre>
<p>
</p>
<p>
It is possible to supply structure wrapper types yourself if you want more
a more sophisticated API than just raw getters and setters. This is often desirable
when using future-proofed (to keep ABI compatibility) D-Bus structures that
uses e.g. hash tables to store the values.
</p>
<p>
User defined structure wrapper types has to be declared in the D-Bus introspection XML:
</p>
<p>
</p>
<pre class="programlisting">
&lt;annotation name="org.gtk.EggDBus.DeclareStruct"       value="Subject"&gt;
  &lt;annotation name="org.gtk.EggDBus.Struct.Signature"  value="(sa{sv})"/&gt;
&lt;/annotation&gt;
</pre>
<p>
</p>
<p>
such that they can be referenced by name from methods; e.g.
</p>
<p>
</p>
<pre class="programlisting">
&lt;method name="GetMostPowerfulSubject"&gt;
  &lt;arg name="most_powerful_subject" direction="out" type="(sa{sv})"&gt;
    &lt;annotation name="org.gtk.EggDBus.StructType" value="Subject"/&gt;
  &lt;/arg&gt;
&lt;/method&gt;
</pre>
<p>
</p>
<p>
This annotation is needed to properly disambiguate that the D-Bus signature <code class="literal">(sa{sv})</code>
really refers to a <code class="literal">Subject</code> structure and not any other random D-Bus structure that
happens to have the same signature.
</p>
<p>
Declaring and implementing the <code class="literal">Subject</code> structure wrapper type is
straightforward; first the header file:
</p>
<p>
</p>
<pre class="programlisting">
/*
 * Copyright (C) 2008 Red Hat, Inc.
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General
 * Public License along with this library; if not, write to the
 * Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307, USA.
 *
 * Author: David Zeuthen &lt;davidz@redhat.com&gt;
 */

#ifndef __TEST_SUBJECT_H
#define __TEST_SUBJECT_H

#include &lt;glib-object.h&gt;
#include &lt;gio/gio.h&gt;
#include "testbindingstypes.h"

G_BEGIN_DECLS

#define TEST_TYPE_SUBJECT          (test_subject_get_type())
#define TEST_SUBJECT(o)            (EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST (o, "(sa{sv})", TestSubject))
#define TEST_SUBJECT_CLASS(k)      (G_TYPE_CHECK_CLASS_CAST((k), TEST_TYPE_SUBJECT, TestSubjectClass))
#define TEST_SUBJECT_GET_CLASS(o)  (G_TYPE_INSTANCE_GET_CLASS ((o), TEST_TYPE_SUBJECT, TestSubjectClass))
#define TEST_IS_SUBJECT(o)         (EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE (o, "(sa{sv})", TestSubject))
#define TEST_IS_SUBJECT_CLASS(k)   (G_TYPE_CHECK_CLASS_TYPE ((k), TEST_TYPE_SUBJECT))

#if 0
typedef struct _TestSubject TestSubject;
#endif
typedef struct _TestSubjectClass TestSubjectClass;

struct _TestSubject
{
  EggDBusStructure parent_instance;
};

struct _TestSubjectClass
{
  EggDBusStructureClass parent_class;
};

GType test_subject_get_type (void) G_GNUC_CONST;

typedef enum
{
  TEST_SUBJECT_KIND_UNKNOWN,
  TEST_SUBJECT_KIND_HUMAN,
  TEST_SUBJECT_KIND_CYLON,
  TEST_SUBJECT_KIND_DEITY,
} TestSubjectKind;

TestSubject    *test_subject_new                (TestSubjectKind  kind,
                                                 const gchar     *name,
                                                 const gchar     *favorite_food,
                                                 const gchar     *favorite_color);
TestSubjectKind test_subject_get_kind           (TestSubject     *subject);
const gchar *   test_subject_get_name           (TestSubject     *subject);
const gchar *   test_subject_get_favorite_food  (TestSubject     *subject);
const gchar *   test_subject_get_favorite_color (TestSubject     *subject);


G_END_DECLS

#endif /* __TEST_SUBJECT_H */

</pre>
<p>
</p>
<p>
As with automatically generated <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> subclasses, the <a class="link" href="EggDBusStructure.html#EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-CAST--CAPS" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST()"><code class="function">EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST()</code></a>
and <a class="link" href="EggDBusStructure.html#EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-TYPE--CAPS" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE()"><code class="function">EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE()</code></a> macros must be used so structural equivalence
identification and casting works.
</p>
<p>
The implementation of the <code class="literal">Subject</code> structure wrapper type looks like this:
</p>
<p>
</p>
<pre class="programlisting">
/*
 * Copyright (C) 2008 Red Hat, Inc.
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General
 * Public License along with this library; if not, write to the
 * Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307, USA.
 *
 * Author: David Zeuthen &lt;davidz@redhat.com&gt;
 */

#ifdef HAVE_CONFIG_H
#  include "config.h"
#endif
#include &lt;string.h&gt;
#include "testbindings.h"
#include "testsubject.h"

/**
 * SECTION:testsubject
 * @title: TestSubject
 * @short_description: Example of user-supplied structure wrapper
 *
 * The #TestSubject interface is a user-supplied wrapper for accessing
 * and creating #EggDBusStructure instances with signature (sa{sv}).
 */

G_DEFINE_TYPE (TestSubject, test_subject, EGG_DBUS_TYPE_STRUCTURE);

static void
test_subject_init (TestSubject *instance)
{
}

static void
test_subject_class_init (TestSubjectClass *klass)
{
}

/**
 * test_subject_new:
 * @kind: A TestSubjectKind.
 * @name: Name of subject.
 * @favorite_food: The favorite food of the subject.
 * @favorite_color: The favorite color of the subject.
 *
 * Constructs a new #TestSubject.
 *
 * Returns: A #TestSubject.
 */
TestSubject *
test_subject_new (TestSubjectKind  kind,
                  const gchar     *name,
                  const gchar     *favorite_food,
                  const gchar     *favorite_color)
{
  GValue *values;
  const gchar *kind_str;
  EggDBusHashMap *properties;

  switch (kind)
    {
    case TEST_SUBJECT_KIND_HUMAN:
      kind_str = "human";
      break;

    case TEST_SUBJECT_KIND_CYLON:
      kind_str = "cylon";
      break;

    case TEST_SUBJECT_KIND_DEITY:
      kind_str = "deity";
      break;

    default:
      g_warning ("Unknown kind passed");
      return NULL;
    }

  properties = egg_dbus_hash_map_new (G_TYPE_STRING,         (GDestroyNotify) g_free,
                                      EGG_DBUS_TYPE_VARIANT, (GDestroyNotify) g_object_unref);

  egg_dbus_hash_map_insert (properties,
                            g_strdup ("name"),
                            egg_dbus_variant_new_for_string (name));

  egg_dbus_hash_map_insert (properties,
                            g_strdup ("favorite-food"),
                            egg_dbus_variant_new_for_string (favorite_food));

  egg_dbus_hash_map_insert (properties,
                            g_strdup ("favorite-color"),
                            egg_dbus_variant_new_for_string (favorite_color));

  values = g_new0 (GValue, 2);

  g_value_init (&amp;(values[0]), G_TYPE_STRING);
  g_value_set_string (&amp;(values[0]), kind_str);

  g_value_init (&amp;(values[1]), EGG_DBUS_TYPE_HASH_MAP);
  g_value_take_object (&amp;(values[1]), properties);

  return TEST_SUBJECT (g_object_new (TEST_TYPE_SUBJECT,
                                     "signature", "(sa{sv})",
                                     /* Note: the superclass steals the 'values' parameter */
                                     "elements", values,
                                     NULL));
}

/**
 * test_subject_get_kind:
 * @subject: A #TestSubject.
 *
 * Gets the kind of @subject.
 *
 * Returns: A #TestSubjectKind.
 */
TestSubjectKind
test_subject_get_kind (TestSubject *subject)
{
  const gchar *kind_str;
  TestSubjectKind kind;

  g_return_val_if_fail (TEST_IS_SUBJECT (subject), TEST_SUBJECT_KIND_UNKNOWN);

  egg_dbus_structure_get_element (EGG_DBUS_STRUCTURE (subject),
                                  0, &amp;kind_str,
                                  -1);

  if (strcmp (kind_str, "human") == 0)
    kind = TEST_SUBJECT_KIND_HUMAN;
  else if (strcmp (kind_str, "cylon") == 0)
    kind = TEST_SUBJECT_KIND_CYLON;
  else if (strcmp (kind_str, "deity") == 0)
    kind = TEST_SUBJECT_KIND_DEITY;
  else
    {
      g_warning ("unknown kind str '%s'", kind_str);
      kind = TEST_SUBJECT_KIND_UNKNOWN;
    }

  return kind;
}

/**
 * test_subject_get_name:
 * @subject: A #TestSubject.
 *
 * Gets name of @subject.
 *
 * Returns: Name of @subject.
 **/
const gchar *
test_subject_get_name (TestSubject *subject)
{
  EggDBusHashMap *value;
  EggDBusVariant *variant;
  const gchar *result;

  g_return_val_if_fail (TEST_IS_SUBJECT (subject), NULL);

  egg_dbus_structure_get_element (EGG_DBUS_STRUCTURE (subject),
                1, &amp;value,
                -1);

  variant = egg_dbus_hash_map_lookup (value, "name");
  result = egg_dbus_variant_get_string (variant);

  return result;
}

/**
 * test_subject_get_favorite_food:
 * @subject: A #TestSubject.
 *
 * Gets favorite food of @subject.
 *
 * Returns: Favorite food of @subject.
 **/
const gchar *
test_subject_get_favorite_food (TestSubject *subject)
{
  EggDBusHashMap *value;
  EggDBusVariant *variant;
  const gchar *result;

  g_return_val_if_fail (TEST_IS_SUBJECT (subject), NULL);

  egg_dbus_structure_get_element (EGG_DBUS_STRUCTURE (subject),
                1, &amp;value,
                -1);

  variant = egg_dbus_hash_map_lookup (value, "favorite-food");
  result = egg_dbus_variant_get_string (variant);

  return result;
}

/**
 * test_subject_get_favorite_color:
 * @subject: A #TestSubject.
 *
 * Gets favorite color of @subject.
 *
 * Returns: Favorite color of @subject.
 **/
const gchar *
test_subject_get_favorite_color (TestSubject *subject)
{
  EggDBusHashMap *value;
  EggDBusVariant *variant;
  const gchar *result;

  g_return_val_if_fail (TEST_IS_SUBJECT (subject), NULL);

  egg_dbus_structure_get_element (EGG_DBUS_STRUCTURE (subject),
                1, &amp;value,
                -1);

  variant = egg_dbus_hash_map_lookup (value, "favorite-color");
  result = egg_dbus_variant_get_string (variant);

  return result;
}

</pre>
<p>
</p>
<p>
It is important, for structural equivalence identification and casting to work, that implementations
only use <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> API to construct, store, set and get the element values. While this
constraint makes the implementation slightly more convoluted, it allows extending the <a class="link" href="TestSubject.html" title="TestSubject"><span class="type">TestSubject</span></a> type
(adding new kinds like <code class="literal">Cyborg</code> and properties like <code class="literal">mood</code>) without
breaking the D-Bus ABI.</p>
</div>
<div class="refsect1" title="Details">
<a name="EggDBusStructure.details"></a><h2>Details</h2>
<div class="refsect2" title="EggDBusStructure">
<a name="EggDBusStructure-struct"></a><h3>EggDBusStructure</h3>
<pre class="programlisting">typedef struct _EggDBusStructure EggDBusStructure;</pre>
<p>
The <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> structure is an opaque structure and should
never be accessed directly.</p>
</div>
<hr>
<div class="refsect2" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST()">
<a name="EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-CAST--CAPS"></a><h3>EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST()</h3>
<pre class="programlisting">#define EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_CAST(instance, signature, c_type) ((c_type *) egg_dbus_structure_type_check_instance_cast (instance, signature, G_STRINGIFY (c_type)))
</pre>
<p>
Checks that <em class="parameter"><code>instance</code></em> is a <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> with <em class="parameter"><code>signature</code></em> and issues a
warning if this is not the case. Returns <em class="parameter"><code>instance</code></em> casted to a pointer
to <em class="parameter"><code>c_type</code></em>.
</p>
<p>
This macro should only be used in implementations of subclasses of
<a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>instance</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> instance.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>signature</code></em> :</span></p></td>
<td> A D-Bus signature.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>c_type</code></em> :</span></p></td>
<td> A corresponding C type for <em class="parameter"><code>signature</code></em>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> A pointer to <em class="parameter"><code>c_type</code></em>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE()">
<a name="EGG-DBUS-STRUCTURE-TYPE-CHECK-INSTANCE-TYPE--CAPS"></a><h3>EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE()</h3>
<pre class="programlisting">#define EGG_DBUS_STRUCTURE_TYPE_CHECK_INSTANCE_TYPE(instance, signature, c_type) (egg_dbus_structure_type_check_instance_type (instance, signature, G_STRINGIFY (c_type)))
</pre>
<p>
Checks if <em class="parameter"><code>instance</code></em> is a <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> with <em class="parameter"><code>signature</code></em>.
</p>
<p>
This macro should only be used in implementations of subclasses of
<a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>instance</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> instance.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>signature</code></em> :</span></p></td>
<td> A D-Bus signature.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>c_type</code></em> :</span></p></td>
<td> A corresponding C type for <em class="parameter"><code>signature</code></em>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a
href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a> only if <em class="parameter"><code>instance</code></em> is a <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a> with <em class="parameter"><code>signature</code></em>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_new ()">
<a name="egg-dbus-structure-new"></a><h3>egg_dbus_structure_new ()</h3>
<pre class="programlisting"><a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *  egg_dbus_structure_new              (const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *signature,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *elements);</pre>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_get_num_elements ()">
<a name="egg-dbus-structure-get-num-elements"></a><h3>egg_dbus_structure_get_num_elements ()</h3>
<pre class="programlisting"><a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a>               egg_dbus_structure_get_num_elements (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure);</pre>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_get_element ()">
<a name="egg-dbus-structure-get-element"></a><h3>egg_dbus_structure_get_element ()</h3>
<pre class="programlisting">void                egg_dbus_structure_get_element      (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         ...);</pre>
<p>
Gets element values in a <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>. The returned values
should not be freed; <em class="parameter"><code>structure</code></em> owns the reference.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>structure</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>first_structure_element_number</code></em> :</span></p></td>
<td> Element number to get.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td> Return location for the first element, followed optionally by
more element number / return location pairs, followed by -1.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_get_element_valist ()">
<a name="egg-dbus-structure-get-element-valist"></a><h3>egg_dbus_structure_get_element_valist ()</h3>
<pre class="programlisting">void                egg_dbus_structure_get_element_valist
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         va_list var_args);</pre>
<p>
Like <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-element" title="egg_dbus_structure_get_element ()"><code class="function">egg_dbus_structure_get_element()</code></a> but intended for use by language
bindings.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>structure</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>first_structure_element_number</code></em> :</span></p></td>
<td> Element number.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>var_args</code></em> :</span></p></td>
<td> Return location for the first element, followed optionally by
more element number / return location pairs, followed by -1.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_get_element_as_gvalue ()">
<a name="egg-dbus-structure-get-element-as-gvalue"></a><h3>egg_dbus_structure_get_element_as_gvalue ()</h3>
<pre class="programlisting">void                egg_dbus_structure_get_element_as_gvalue
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> element_number,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *value);</pre>
<p>
Sets <em class="parameter"><code>value</code></em> to the contents of the value of <em class="parameter"><code>element_number</code></em>. This
will also initalize <em class="parameter"><code>value</code></em> so it needs to be uninitialized
(e.g. set to zeroes). Unlike <a class="link" href="EggDBusStructure.html#egg-dbus-structure-get-element" title="egg_dbus_structure_get_element ()"><code class="function">egg_dbus_structure_get_element()</code></a>, note
that the value is copied; use <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#g-value-unset"
><code class="function">g_value_unset()</code></a> to free it.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>structure</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>element_number</code></em> :</span></p></td>
<td> Element number.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
<td> Return location for <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
><span class="type">GValue</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_set_element ()">
<a name="egg-dbus-structure-set-element"></a><h3>egg_dbus_structure_set_element ()</h3>
<pre class="programlisting">void                egg_dbus_structure_set_element      (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         ...);</pre>
<p>
Sets element values in a <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>. Similar to <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#g-object-set"
><code class="function">g_object_set()</code></a>.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>structure</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>first_structure_element_number</code></em> :</span></p></td>
<td> Element number to set.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td> First element to set, followed optionally by
more element number / return location pairs, followed by -1.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_set_element_valist ()">
<a name="egg-dbus-structure-set-element-valist"></a><h3>egg_dbus_structure_set_element_valist ()</h3>
<pre class="programlisting">void                egg_dbus_structure_set_element_valist
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> first_structure_element_number,
                                                         va_list var_args);</pre>
<p>
Like <a class="link" href="EggDBusStructure.html#egg-dbus-structure-set-element" title="egg_dbus_structure_set_element ()"><code class="function">egg_dbus_structure_set_element()</code></a> but intended for use by language
bindings.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>structure</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>first_structure_element_number</code></em> :</span></p></td>
<td> Element number.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>var_args</code></em> :</span></p></td>
<td> First element to set, followed optionally by
more element number / element pairs, followed by -1.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_set_element_as_gvalue ()">
<a name="egg-dbus-structure-set-element-as-gvalue"></a><h3>egg_dbus_structure_set_element_as_gvalue ()</h3>
<pre class="programlisting">void                egg_dbus_structure_set_element_as_gvalue
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> element_number,
                                                         const <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *value);</pre>
<p>
Sets <em class="parameter"><code>value</code></em> to the contents of the value of <em class="parameter"><code>element_number</code></em>. This
will also initalize <em class="parameter"><code>value</code></em> so it needs to be uninitialized
(e.g. set to zeroes).</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>structure</code></em> :</span></p></td>
<td> A <a class="link" href="EggDBusStructure.html" title="EggDBusStructure"><span class="type">EggDBusStructure</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>element_number</code></em> :</span></p></td>
<td> Element number.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
<td> Return location for <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
><span class="type">GValue</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_get_signature ()">
<a name="egg-dbus-structure-get-signature"></a><h3>egg_dbus_structure_get_signature ()</h3>
<pre class="programlisting">const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *       egg_dbus_structure_get_signature    (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure);</pre>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_get_signature_for_element ()">
<a name="egg-dbus-structure-get-signature-for-element"></a><h3>egg_dbus_structure_get_signature_for_element ()</h3>
<pre class="programlisting">const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *       egg_dbus_structure_get_signature_for_element
                                                        (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> element_number);</pre>
</div>
<hr>
<div class="refsect2" title="egg_dbus_structure_print ()">
<a name="egg-dbus-structure-print"></a><h3>egg_dbus_structure_print ()</h3>
<pre class="programlisting">void                egg_dbus_structure_print            (<a class="link" href="EggDBusStructure.html" title="EggDBusStructure">EggDBusStructure</a> *structure,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"
>guint</a> indent);</pre>
</div>
</div>
<div class="refsect1" title="Property Details">
<a name="EggDBusStructure.property-details"></a><h2>Property Details</h2>
<div class="refsect2" title='The "elemement-signatures" property'>
<a name="EggDBusStructure--elemement-signatures"></a><h3>The <code class="literal">"elemement-signatures"</code> property</h3>
<pre class="programlisting">  "elemement-signatures"     <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Boxed-Types.html#GStrv"
>GStrv</a>*                : Read</pre>
<p>The signatures of the elements of the structure.</p>
</div>
<hr>
<div class="refsect2" title='The "elements" property'>
<a name="EggDBusStructure--elements"></a><h3>The <code class="literal">"elements"</code> property</h3>
<pre class="programlisting">  "elements"                 <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a>              : Write / Construct Only</pre>
<p>The elements of the structure as an array of GValue. Takes ownership.</p>
</div>
<hr>
<div class="refsect2" title='The "num-elemements" property'>
<a name="EggDBusStructure--num-elemements"></a><h3>The <code class="literal">"num-elemements"</code> property</h3>
<pre class="programlisting">  "num-elemements"           <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"
>gint</a>                  : Read</pre>
<p>The number of elements in the structure.</p>
<p>Allowed values: &gt;= 0</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" title='The "signature" property'>
<a name="EggDBusStructure--signature"></a><h3>The <code class="literal">"signature"</code> property</h3>
<pre class="programlisting">  "signature"                <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a>*                : Read / Write / Construct Only</pre>
<p>The signature of the structure.</p>
<p>Default value: NULL</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.11</div>
</body>
</html>
